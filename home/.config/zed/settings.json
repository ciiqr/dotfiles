// documentation: https://zed.dev/docs/configuring-zed
{
    // editor
    "base_keymap": "SublimeText",
    "theme": "Ayu Dark",
    "ui_font_family": "Inconsolata",
    "buffer_font_family": "Inconsolata",
    "ui_font_size": 16,
    "buffer_font_size": 18,
    "cursor_blink": false,
    "wrap_guides": [80, 120],
    "features": {
        "copilot": false
    },
    "extend_comment_on_newline": false,
    "tabs": { "close_position": "right" },
    // "show_whitespaces": "all",
    // "file_scan_exclusions": null,

    // formatter
    "prettier": {
        // NOTE: for files without an associated prettier config
        "tabWidth": 4
    },

    // languages
    "lsp": {
        "eslint": {
            "settings": {
                // TODO: not yet implemented
                // "problems": {
                //     "shortenToSingleLine": true
                // },

                // TODO: not yet implemented
                // "rulesCustomizations": [
                //     // set all eslint errors/warnings to show as warnings
                //     { "rule": "*", "severity": "warn" },
                //     // disable import/no-unused-modules from showing (mostly just annoying while in the middle of coding)
                //     {
                //         "rule": "import/no-unused-modules",
                //         "severity": "off"
                //     }
                // ]
            }
        }

        // TODO: idk, something like:
        // "yaml-language-server": {
        //     "initialization_options": {
        //         "yaml.schemas": {
        //             "https://json.schemastore.org/github-workflow": "/.github/workflows/*.yml"
        //         }
        //     }
        // }
    },

    // TODO: how is this supposed to be different fromm language_overrides?
    // "languages": {},
    "language_overrides": {
        "YAML": {
            "prettier": {
                // NOTE: for files without an associated prettier config
                "tabWidth": 2
            },
            // TODO: remove once schema overriding works...
            "enable_language_server": false
        },
        "TypeScript": {
            "code_actions_on_format": {
                "source.fixAll.eslint": true
            },
            "format_on_save": {
                "external": {
                    "command": "node_modules/.bin/prettier",
                    "arguments": ["--stdin-filepath", "{buffer_path}"]
                }
            }
        },
        "TSX": {
            "code_actions_on_format": {
                "source.fixAll.eslint": true
            },
            "format_on_save": {
                "external": {
                    "command": "node_modules/.bin/prettier",
                    "arguments": ["--stdin-filepath", "{buffer_path}"]
                }
            }
        },
        "JavaScript": {
            "code_actions_on_format": {
                "source.fixAll.eslint": true
            },
            "format_on_save": {
                "external": {
                    "command": "node_modules/.bin/prettier",
                    "arguments": ["--stdin-filepath", "{buffer_path}"]
                }
            }
        }
    }
}
