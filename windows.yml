when: os == "windows"

backup:

files:
  - source: windows/home
    destination: ~/
    link_files: true
  - source: windows/thrizen3000.grid
    destination: C:\Program Files (x86)\GridMove\Grids\thrizen3000.grid
    link_files: true

winget.packages:
  - AgileBits.1Password
  - Google.Chrome
  - 7zip.7zip
  - Adobe.Acrobat.Reader.64-bit
  - Discord.Discord
  - CPUID.HWMonitor
  - clsid2.mpc-hc
  - Rufus.Rufus
  - ShareX.ShareX
  - Spotify.Spotify
  - Valve.Steam
  - SyncTrayzor.SyncTrayzor
  - Microsoft.VisualStudioCode
  - Microsoft.VisualStudio.2022.Community
  - WinDirStat.WinDirStat
  - JanDeDobbeleer.OhMyPosh
  - CodecGuide.K-LiteCodecPack.Mega
  # - Overwolf.CurseForge
  # zygor
  # battle.net
  # r2modman
  - AlexanderKojevnikov.Spek
  # asus mouse software
  # - Asus.ArmouryCrate

chocolatey.packages:
  - nvidia-display-driver
  - gridmove
  - inconsolata
  - dotnet
  - dotnet-sdk
  - dotnetfx
  - openjdk
  - vcredist-all
  - wowup-cf

windows.registry:
  # TODO:
  # # greyscale monitor stuff
  # - HKEY_CURRENT_USER:
  #     Control Panel\Desktop:
  #       FontSmoothing: "2"
  #       FontSmoothingGamma: 0x3e8
  #       FontSmoothingContrast: 0x898
  #       FontSmoothingOrientation: 0x0
  #       FontSmoothingType: 0x1
  #     SOFTWARE\Microsoft\Avalon.Graphics\DISPLAY2:
  #       ClearTypeLevel: 0x0
  #       EnhancedContrastLevel: 0x32
  #       GammaLevel: 0x76c
  #       GrayscaleEnhancedContrastLevel: 0x64
  #       PixelStructure: 0x1
  #       TextContrastLevel: 0x6

  # # disable uac
  # - HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Policies\System:
  #     EnableLUA: 0
  #     ConsentPromptBehaviorAdmin: 0
  #     PromptOnSecureDesktop: 0

  # launch explorer to 'This PC'
  - HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced:
      LaunchTo: 1

  # # pressing alt+tab shows windows that are open on "all desktops"
  # - HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced:
  #     VirtualDesktopAltTabFilter: 0
  # # show file name extensions in explorer
  # - HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced:
  #     HideFileExt: 0
  # # disable hibernation
  # - HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Power:
  #     HibernateEnabled: 0
  # # Settings > System > Multitasking > Timeline > Show suggestions in your timeline: Off
  # - HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager:
  #     SubscribedContent-353698Enabled: 0

windows.local-group-policy:
  # TODO:
  # computer_policy:
  #   # timeline in super + tab menu
  #   Enables Activity Feed: Disabled
  #   # Disable "Make available offline" for network drives
  #   Remove "Make Available Offline" command: Enabled
  #   Allow or Disallow use of the Offline Files feature: Disabled
  #   # Windows Update
  #   Allow Automatic Updates immediate installation: Enabled
  #   Do not adjust default option to 'Install Updates and Shut Down' in Shut Down Windows dialog box: Enabled
  #   Enabling Windows Update Power Management to automatically wake up the system to install scheduled updates: Disabled
  #   No auto-restart with logged on users for scheduled automatic updates installations: Enabled
  #   Turn off auto-restart notifications for update installations: Enabled
  #   Turn off auto-restart for updates during active hours:
  #     Start: 7 AM
  #     End: 4 AM
  #   # TODO: Not sure how to specify this (I've tried a bunch of different ways), not sure if it's required with other settings though
  #   # Display options for update notifications: '2 - Turn off all notifications, including restart warnings'
  #   Windows Components\Windows Update\Configure Automatic Updates:
  #     Configure automatic updating: 4 - Auto download and schedule the install
  #     Scheduled install day: 7 - Every Saturday
  #     Scheduled install time: 05:00
  #     Install during automatic maintenance: false
  #     Install updates for other Microsoft products: false
  #     Every week: true
  #     First week of the month: false
  #     Second week of the month: false
  #     Third week of the month: false
  #     Fourth week of the month: false
  user_policy:
    # don't hide items in system tray dropdown
    Turn off notification area cleanup: Enabled
    # TODO:
    # Turn off Aero Shake window minimizing mouse gesture: Enabled
    # Remove "Recently added" list from Start Menu: Enabled
    # Configure pinned items for start menu and taskbar
    # Start Layout:
    #     # TODO: updated version of: https://github.com/ciiqr/config/blob/main/salt/states/windows/files/layout.xml
    #     Start Layout File: windows/layout.xml
