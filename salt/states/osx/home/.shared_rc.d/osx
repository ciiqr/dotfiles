#!/usr/bin/env bash

# common package management
alias pki='brew install'
alias pks='brew search'
# alias pkf='' # nothing provides this... (could probably maintain a repo like xlocate for void does though)
alias pkl='brew ls'
pko()
{
    for package in $(brew ls); do
        packageSedEscaped="$(echo "$package" | sed -e 's/[\/&]/\\&/g')"
        brew ls "$package" | sed -e 's/^/'"$packageSedEscaped"': /' | grep "$package: $1"
    done
    true
}

# overrides
alias all-clear="clear && printf '\e[3J'"

# tunnelblick
tunnelblick()
{
    # DOCS: https://tunnelblick.net/cAppleScriptSupport.html
    osascript -e "
        tell application \"/Applications/Tunnelblick.app\"
            $*
        end tell
    "
}
tunnelblick-disconnect-all()
{
    # NOTE: useful because tunnelblick often hangs when I wake it from sleep, and for whatever reason this causes my mouse to not work
    tunnelblick disconnect all
}
